{"ast":null,"code":"import { map, tap } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../service/api.service\";\nimport * as i2 from \"../service/form.service\";\nexport class TableFacade {\n  constructor(apiService, formService) {\n    this.apiService = apiService;\n    this.formService = formService;\n    this.myForm = this.formService.tableForm;\n    this.tableForm$ = this.apiService.getTableData.pipe(map(tableData => this.formService.groupTables(tableData)), map(groupedTables => this.formService.updateTableForm(groupedTables)), tap(v => console.log('The result: ', v)));\n  }\n  static #_ = this.ɵfac = function TableFacade_Factory(t) {\n    return new (t || TableFacade)(i0.ɵɵinject(i1.ApiService), i0.ɵɵinject(i2.FormService));\n  };\n  static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: TableFacade,\n    factory: TableFacade.ɵfac\n  });\n}","map":{"version":3,"names":["map","tap","TableFacade","constructor","apiService","formService","myForm","tableForm","tableForm$","getTableData","pipe","tableData","groupTables","groupedTables","updateTableForm","v","console","log","_","i0","ɵɵinject","i1","ApiService","i2","FormService","_2","factory","ɵfac"],"sources":["/home/thomaskv/code/learn/angular-reactive-form-table/src/app/facade/table.facade.service.ts"],"sourcesContent":["import { Observable, map, tap } from \"rxjs\";\r\nimport { ApiService } from \"../service/api.service\";\r\nimport { FormService, TableFormAreas } from \"../service/form.service\";\r\nimport { FormGroup } from \"@angular/forms\";\r\nimport { Injectable } from \"@angular/core\";\r\n\r\n@Injectable()\r\nexport class TableFacade {\r\n  constructor(\r\n    private apiService: ApiService,\r\n    private formService: FormService\r\n  ) {}\r\n\r\n  public myForm: FormGroup = this.formService.tableForm;\r\n  public tableForm$: Observable<FormGroup<TableFormAreas>> = this.apiService.getTableData.pipe(\r\n    map((tableData) => this.formService.groupTables(tableData)),\r\n    map(groupedTables => this.formService.updateTableForm(groupedTables)),\r\n    tap(v => console.log('The result: ', v))\r\n  );\r\n}\r\n"],"mappings":"AAAA,SAAqBA,GAAG,EAAEC,GAAG,QAAQ,MAAM;;;;AAO3C,OAAM,MAAOC,WAAW;EACtBC,YACUC,UAAsB,EACtBC,WAAwB;IADxB,KAAAD,UAAU,GAAVA,UAAU;IACV,KAAAC,WAAW,GAAXA,WAAW;IAGd,KAAAC,MAAM,GAAc,IAAI,CAACD,WAAW,CAACE,SAAS;IAC9C,KAAAC,UAAU,GAA0C,IAAI,CAACJ,UAAU,CAACK,YAAY,CAACC,IAAI,CAC1FV,GAAG,CAAEW,SAAS,IAAK,IAAI,CAACN,WAAW,CAACO,WAAW,CAACD,SAAS,CAAC,CAAC,EAC3DX,GAAG,CAACa,aAAa,IAAI,IAAI,CAACR,WAAW,CAACS,eAAe,CAACD,aAAa,CAAC,CAAC,EACrEZ,GAAG,CAACc,CAAC,IAAIC,OAAO,CAACC,GAAG,CAAC,cAAc,EAAEF,CAAC,CAAC,CAAC,CACzC;EAPE;EAAC,QAAAG,CAAA,G;qBAJOhB,WAAW,EAAAiB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA,GAAAH,EAAA,CAAAC,QAAA,CAAAG,EAAA,CAAAC,WAAA;EAAA;EAAA,QAAAC,EAAA,G;WAAXvB,WAAW;IAAAwB,OAAA,EAAXxB,WAAW,CAAAyB;EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}